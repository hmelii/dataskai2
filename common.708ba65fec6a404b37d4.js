(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{I88u:function(t,e,s){"use strict";s.d(e,"a",function(){return v});var i=s("or5V"),n=s("m0za"),c=s("jPzB"),o=s("qvlg"),a=s("fXoL"),l=s("xniV"),r=s("sGSV"),u=s("ofXK"),d=s("Hicy"),b=s("wQG6"),p=s("tyNb");const g=function(t){return{"select-item--active":t}},h=function(t,e,s,i,n){return[t,e,s,i,n]};function f(t,e){if(1&t&&(a.Ob(0,"li",10),a.Ob(1,"a",11),a.sc(2),a.Nb(),a.Nb()),2&t){const t=e.$implicit,s=e.index,i=a.Yb(2);a.Ab(a.gc(4,g,i.selectedIndex===s)),a.yb(1),a.ec("routerLink",a.jc(6,h,i.routeMain,i.routeProject,i.routeTasks,t,i.routeSubmits)),a.yb(1),a.tc(t)}}const k=function(t){return{"select--active":t}};function m(t,e){if(1&t){const t=a.Pb();a.Ob(0,"div",1),a.Vb("clickOutside",function(e){return a.mc(t),a.Yb().onClickedOutside(e)}),a.Ob(1,"div",2),a.Vb("click",function(){return a.mc(t),a.Yb().handleClick()}),a.Ob(2,"div",3),a.sc(3),a.Nb(),a.Ob(4,"div",4),a.Kb(5,"app-icon",5),a.Nb(),a.Nb(),a.Ob(6,"div",6),a.Ob(7,"div",7),a.sc(8,"Ammiak project"),a.Nb(),a.Ob(9,"ul",8),a.qc(10,f,3,12,"li",9),a.Nb(),a.Nb(),a.Nb()}if(2&t){const t=a.Yb();a.Ab(a.gc(4,k,t.isShow)),a.yb(3),a.tc(t.taskName),a.yb(7),a.ec("ngForOf",t.tasks)}}let v=(()=>{class t{constructor(t,e){this.projectService=t,this.taskService=e,this.tasks=null,this.selectedIndex=0,this.routeSubmits=i.a.Submits,this.routeTasks=n.a.Tasks,this.routeProject=c.a.Project,this.routeMain=o.a.Self,this.taskName=null,this.isShow=!1,this.subscribeProjectInfoUpdates(),this.subscribeTasksInfoUpdates()}ngOnInit(){}subscribeTasksInfoUpdates(){this.taskService.currentTaskInfoStageMessage.subscribe(({data:t})=>{t&&t.task_name&&(this.taskName=t.task_name)})}subscribeProjectInfoUpdates(){this.projectService.currentProjectInfoStageMessage.subscribe(({data:t})=>{t&&t.tasks&&(this.tasks=t.tasks.names)})}handleClick(){this.isShow=!this.isShow}handleItemClick(t){this.selectedIndex=t}onClickedOutside(t){this.isShow&&(this.isShow=!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(l.a),a.Jb(r.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-task-selection"]],decls:1,vars:1,consts:[["class","select",3,"class","clickOutside",4,"ngIf"],[1,"select",3,"clickOutside"],[1,"select-value",3,"click"],[1,"select-value-text"],[1,"select-ico"],["type","triangle"],[1,"select-sub"],[1,"select-heading"],[1,"select-list"],["class","select-item",3,"class",4,"ngFor","ngForOf"],[1,"select-item"],[1,"select-link",3,"routerLink"]],template:function(t,e){1&t&&a.qc(0,m,11,6,"div",0),2&t&&a.ec("ngIf",e.tasks&&e.tasks.length)},directives:[u.k,d.a,b.a,u.j,p.d],styles:["[_nghost-%COMP%]{width:330px;position:absolute;top:12px;left:64px;z-index:2}.select[_ngcontent-%COMP%]{cursor:pointer;height:24px}.select[_ngcontent-%COMP%], .select-value-text[_ngcontent-%COMP%]{display:block;position:relative}.select-value-text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.select-value[_ngcontent-%COMP%]{display:inline-block;padding-right:24px;height:24px;font-size:1.4rem;line-height:1.7142857143;max-width:218px;position:relative;color:var(--button-color-default);font-weight:500}.select-heading[_ngcontent-%COMP%]{margin-bottom:16px;padding:0 7px;font-size:1.6rem;line-height:1.5;font-weight:500}.select-sub[_ngcontent-%COMP%]{background:var(--background-secondary);border-radius:3px;padding:24px 8px;position:absolute;top:100%;left:0;right:0;transform:translateY(4px);opacity:0;visibility:hidden;transition:all .3s ease}.select--active[_ngcontent-%COMP%]   .select-sub[_ngcontent-%COMP%]{opacity:1;visibility:visible}.select-list[_ngcontent-%COMP%]{max-height:170px;overflow-y:auto;display:flex;flex-direction:column;margin:0 -8px 0 0;padding:0 8px 0 0;list-style:none}.select-item[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.2rem;text-align:left;line-height:1.1666666667;white-space:nowrap;transition:all .3s ease}.select-item--active[_ngcontent-%COMP%], .select-item[_ngcontent-%COMP%]:hover{background:var(--foreground-quaternary)}.select-ico[_ngcontent-%COMP%]{width:8px;height:4px;margin:auto;position:absolute;top:0;bottom:0;right:12px;color:var(--button-color-default);font-size:0;line-height:0;transform:rotate(0deg);transition:transform .3s ease}.select--active[_ngcontent-%COMP%]   .select-ico[_ngcontent-%COMP%]{transform:rotate(-180deg)}.select-link[_ngcontent-%COMP%]{display:block;padding:8px;color:inherit}"]}),t})()}}]);