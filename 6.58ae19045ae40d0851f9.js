(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{iyif:function(t,e,n){"use strict";n.r(e),n.d(e,"ComparisonPageModule",function(){return A});var o=n("ofXK"),i=n("dFjG"),a=n("tyNb"),s=n("fXoL"),c=n("rQ7a"),r=n("iB5Y"),b=n("I88u"),l=n("HIQp"),p=n("TC4B"),m=n("m6/c"),d=n("b6eW"),u=n("xniV"),g=n("sGSV"),h=n("FDUU"),f=n("wQG6");const v=function(t){return{"select-baseline--active":t}};let y=(()=>{class t{constructor(){this.active=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-comparison-table-select-baseline"]],inputs:{active:"active"},decls:4,vars:3,consts:[[1,"select-baseline",3,"ngClass"],[1,"select-baseline-button"],[1,"select-baseline-button-ico"],["type","baseline"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.Ob(1,"a",1),s.Ob(2,"span",2),s.Kb(3,"app-icon",3),s.Nb(),s.Nb(),s.Nb()),2&t&&s.ec("ngClass",s.gc(1,v,e.active))},directives:[o.i,f.a],styles:[".select-baseline[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:6px;left:0;opacity:0;z-index:10;transition:all .3s ease}.select-baseline[_ngcontent-%COMP%]:hover{opacity:.6}.select-baseline--active[_ngcontent-%COMP%]{opacity:1}.select-baseline-button[_ngcontent-%COMP%]{display:flex;width:inherit;height:inherit;align-items:center;color:inherit;justify-content:center}.select-baseline-button-ico[_ngcontent-%COMP%]{display:block;width:10px;height:16px;font-size:0;color:inherit}"]}),t})(),O=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-comparison-table-remove-form-comparison"]],decls:4,vars:0,consts:[[1,"remove-from-comparison"],[1,"remove-from-comparison-button"],[1,"remove-from-comparison-button-ico"],["type","remove-form-comparison"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.Ob(1,"a",1),s.Ob(2,"span",2),s.Kb(3,"app-icon",3),s.Nb(),s.Nb(),s.Nb())},directives:[f.a],styles:[".remove-from-comparison[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:6px;right:0}.remove-from-comparison-button[_ngcontent-%COMP%]{display:flex;width:inherit;height:inherit;align-items:center;color:inherit;justify-content:center}.remove-from-comparison-button-ico[_ngcontent-%COMP%]{display:block;width:13px;height:6px;font-size:0;color:inherit}"]}),t})();var C=n("2/VC"),x=n("tScM");function M(t,e){if(1&t&&s.Kb(0,"app-dynamics",4),2&t){const t=s.Yb();s.ec("number",t.comparison.short_delta)}}function _(t,e){if(1&t&&s.Kb(0,"app-dynamics",4),2&t){const t=s.Yb();s.ec("number",t.comparison.delta)}}let P=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-comparison-table-metric"]],inputs:{metric:"metric",comparison:"comparison"},decls:7,vars:4,consts:[[1,"comparison-table-metric"],[1,"comparison-table-metric-value"],[3,"number",4,"ngIf"],[1,"comparison-table-metric-bubble"],[3,"number"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.Ob(1,"a",1),s.tc(2),s.Nb(),s.rc(3,M,1,1,"app-dynamics",2),s.Ob(4,"div",3),s.tc(5),s.rc(6,_,1,1,"app-dynamics",2),s.Nb(),s.Nb()),2&t&&(s.yb(2),s.uc(e.metric.short_value),s.yb(1),s.ec("ngIf",e.comparison),s.yb(2),s.vc(" ",e.metric.value," "),s.yb(1),s.ec("ngIf",e.comparison))},directives:[o.k,x.a],styles:['.comparison-table-metric[_ngcontent-%COMP%]:hover   .comparison-table-metric-bubble[_ngcontent-%COMP%]{opacity:1;visibility:visible}.comparison-table-metric-value[_ngcontent-%COMP%]{color:inherit}.comparison-table-metric-value[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0}.comparison-table-metric-bubble[_ngcontent-%COMP%]{background:var(--background-secondary);border-radius:4px;width:200px;padding:9px 8px;position:absolute;top:100%;left:0;z-index:2;opacity:0;visibility:hidden;transform:translateY(2px);transition:all .3s ease}']}),t})();var w=n("vyQX"),k=n("SgQ0"),I=n("xhb4");function D(t,e){if(1&t&&(s.Ob(0,"div"),s.Kb(1,"app-comparison-table-select-baseline",15),s.Kb(2,"app-comparison-table-remove-form-comparison"),s.Nb()),2&t){const t=s.Yb().$implicit,e=s.Yb(2);s.yb(1),s.ec("active",e.baselineID===t.id)}}function S(t,e){if(1&t&&s.Kb(0,"app-table-features",16),2&t){const t=s.Yb().$implicit,e=s.Yb().$implicit,n=s.Yb();s.ec("id",t.id||t.task_name)("text",t[e.id])("comparison",t.comparison?t.comparison[e.id]:null)("comparisonBaselineID",t.comparison?n.baselineID:null)}}function N(t,e){if(1&t&&s.Kb(0,"app-comparison-table-metric",17),2&t){const t=s.Yb().$implicit,e=s.Yb().$implicit;s.ec("metric",t.metrics[e.id])("comparison",t.comparison?t.comparison[e.id]:null)}}function Y(t,e){if(1&t&&(s.Ob(0,"div",18),s.tc(1),s.Zb(2,"date"),s.Nb(),s.Ob(3,"div",18),s.tc(4),s.Zb(5,"date"),s.Nb()),2&t){const t=s.Yb().$implicit,e=s.Yb().$implicit;s.yb(1),s.vc(" ",s.bc(2,2,t[e.id],"hh:mm")," "),s.yb(3),s.vc(" ",s.bc(5,5,t[e.id],"dd:MM:YYYY")," ")}}function K(t,e){if(1&t&&s.Kb(0,"app-table-attachments",19),2&t){const t=s.Yb().$implicit,e=s.Yb().$implicit;s.ec("attachments",t[e.id])}}function $(t,e){if(1&t&&s.Kb(0,"app-table-actions",22),2&t){const t=s.Yb(2).$implicit;s.ec("id",t.id)}}function z(t,e){if(1&t&&s.Kb(0,"app-table-feature-mining-comments",23),2&t){const t=s.Yb(2).$implicit,e=s.Yb().$implicit;s.ec("text",t[e.id])}}function T(t,e){if(1&t&&s.tc(0),2&t){const t=s.Yb(2).$implicit,e=s.Yb().$implicit;s.vc(" ",t[e.id]," ")}}function U(t,e){if(1&t&&(s.Ob(0,"div",9),s.rc(1,$,1,1,"ng-template",20),s.rc(2,z,1,1,"ng-template",21),s.rc(3,T,1,1,"ng-template",14),s.Nb()),2&t){const t=s.Yb(2).$implicit;s.ec("ngSwitch",t.id)}}const j=function(t,e){return{"comparison-table-td--baseline":t,"comparison-table-td--align-right":e}};function F(t,e){if(1&t&&(s.Ob(0,"td",7),s.rc(1,D,3,1,"div",8),s.Ob(2,"div",9),s.rc(3,S,1,4,"ng-template",10),s.rc(4,N,1,2,"ng-template",11),s.rc(5,Y,6,8,"ng-template",12),s.rc(6,K,1,1,"ng-template",13),s.rc(7,U,4,1,"ng-template",14),s.Nb(),s.Nb()),2&t){const t=e.$implicit,n=s.Yb(),o=n.$implicit,i=n.index,a=s.Yb();s.ec("ngClass",s.hc(3,j,a.baselineID===t.id,"metric"===o.type||"features"===o.type||"model_version"===o.id)),s.yb(1),s.ec("ngIf",0===i),s.yb(1),s.ec("ngSwitch",o.type)}}const q=function(t){return{"comparison-table-th--align-right":t}};function B(t,e){if(1&t&&(s.Ob(0,"tr",3),s.Ob(1,"th",4),s.Ob(2,"div",5),s.tc(3),s.Nb(),s.Nb(),s.rc(4,F,8,6,"td",6),s.Nb()),2&t){const t=e.$implicit,n=s.Yb();s.yb(1),s.ec("ngClass",s.gc(3,q,"metric"===t.type)),s.yb(2),s.uc(t.name),s.yb(1),s.ec("ngForOf",n.cols)}}let J=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-comparison-table"]],inputs:{rows:"rows",cols:"cols",baselineID:"baselineID"},features:[s.wb],decls:3,vars:1,consts:[[1,"comparison-table"],[1,"comparison-table-body"],["class","comparison-table-tr",4,"ngFor","ngForOf"],[1,"comparison-table-tr"],[1,"comparison-table-th",3,"ngClass"],[1,"comparison-table-th-text"],["class","comparison-table-td",3,"ngClass",4,"ngFor","ngForOf"],[1,"comparison-table-td",3,"ngClass"],[4,"ngIf"],[3,"ngSwitch"],["ngSwitchCase","features"],["ngSwitchCase","metric"],["ngSwitchCase","date"],["ngSwitchCase","files"],["ngSwitchDefault",""],[3,"active"],[3,"id","text","comparison","comparisonBaselineID"],[3,"metric","comparison"],[1,"table-tbody-td-sub-sub-heading"],[3,"attachments"],["ngSwitchCase","actions"],["ngSwitchCase","feature_mining_comments"],[3,"id"],[3,"text"]],template:function(t,e){1&t&&(s.Ob(0,"table",0),s.Ob(1,"tbody",1),s.rc(2,B,5,5,"tr",2),s.Nb(),s.Nb()),2&t&&(s.yb(2),s.ec("ngForOf",e.rows))},directives:[o.j,o.i,o.k,o.l,o.m,o.n,y,O,C.a,P,w.a,k.a,I.a],pipes:[o.d],styles:[".comparison-table[_ngcontent-%COMP%]{border:0;margin-bottom:100px;table-layout:fixed;border-collapse:initial;border-spacing:0}.comparison-table-th[_ngcontent-%COMP%]{background:var(--table-background-default);border:0;border-left:1px solid var(--table-border-default);border-top:1px solid var(--table-border-default);font-size:1.2rem;width:140px;text-transform:uppercase}.comparison-table-td[_ngcontent-%COMP%], .comparison-table-th[_ngcontent-%COMP%]{padding:12px;text-align:left;vertical-align:top}.comparison-table-td[_ngcontent-%COMP%]{background:var(--table-background-secondary);border-left:1px solid var(--table-border-default);border-top:1px solid var(--table-border-default);width:252px;height:64px;position:relative;transition:all .3s ease}.comparison-table-td--align-right[_ngcontent-%COMP%], .comparison-table-th--align-right[_ngcontent-%COMP%]{text-align:right}.comparison-table-td--baseline[_ngcontent-%COMP%]{background:var(--table-background-quinary)}.comparison-table-tr[_ngcontent-%COMP%]:first-child   .comparison-table-td[_ngcontent-%COMP%]{background:var(--table-background-default);padding:12px 32px}.comparison-table-th-text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;position:relative;max-width:116px;text-overflow:ellipsis}.table-tbody-tr[_ngcontent-%COMP%]:hover   .table-tbody-td[_ngcontent-%COMP%], .table-tbody-tr[_ngcontent-%COMP%]:hover   .table-tbody-th[_ngcontent-%COMP%]{background:var(--table-background-tertiary)}.table-tbody-tr[_ngcontent-%COMP%]:hover   .table-tbody-td[_ngcontent-%COMP%]:hover, .table-tbody-tr[_ngcontent-%COMP%]:hover   .table-tbody-th[_ngcontent-%COMP%]:hover{background:var(--table-background-quaternary)}.table-tbody-tr--founded[_ngcontent-%COMP%]   .table-tbody-td[_ngcontent-%COMP%], .table-tbody-tr--founded[_ngcontent-%COMP%]   .table-tbody-th[_ngcontent-%COMP%]{background:var(--table-background-tertiary)!important}.table-tbody-tr--founded[_ngcontent-%COMP%]   .table-tbody-td--founded[_ngcontent-%COMP%]{background:var(--table-background-quaternary)!important}.table-tbody-tr--selected[_ngcontent-%COMP%]   .table-tbody-td[_ngcontent-%COMP%], .table-tbody-tr--selected[_ngcontent-%COMP%]   .table-tbody-th[_ngcontent-%COMP%]{background:var(--table-background-tertiary)!important}.table-thead-th-heading[_ngcontent-%COMP%]{color:var(--text-color-default);font-size:1.4rem;font-weight:500;letter-spacing:.02em;text-transform:uppercase;white-space:nowrap}.table-thead-th-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}.table-thead-th-sub-heading[_ngcontent-%COMP%]{margin-top:3px;color:var(--text-color-secondary);font-size:.8rem;letter-spacing:.01em;line-height:1;text-transform:uppercase}.table-tbody-th-heading[_ngcontent-%COMP%]{color:var(--text-color-default);font-size:1.2rem;line-height:1.1666666667}.table-tbody-td-heading[_ngcontent-%COMP%]{color:var(--text-color-default);font-size:1.3rem;max-width:180px;overflow:hidden;position:relative;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.table-tbody-td--sub-heading[_ngcontent-%COMP%]{color:var(--text-color-default);font-size:1.2rem}.table-tbody-td-sub-sub-heading[_ngcontent-%COMP%]{color:var(--text-color-default);font-size:1.3rem;line-height:1;position:relative;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}*[_ngcontent-%COMP%] + .table-tbody-td-sub-sub-heading[_ngcontent-%COMP%]{margin-top:4px}.table-status-ico[_ngcontent-%COMP%]{display:block;width:16px;height:16px;color:var(--accent-text-color-default)}.table-thead-th-link[_ngcontent-%COMP%]{color:inherit}.table-thead-th-link-ico[_ngcontent-%COMP%]{display:inline-block;color:inherit;font-size:0;line-height:1}.table-thead-th-link-ico--star[_ngcontent-%COMP%]{width:14px;height:13px;margin-top:4px;position:relative}.table-thead-th-link-ico-svg[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}.table-metric[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.table-link[_ngcontent-%COMP%]{color:inherit}"]}),t})();var G=n("UqID");function Q(t,e){1&t&&(s.Ob(0,"div",3),s.Ob(1,"div",4),s.Ob(2,"div",5),s.Kb(3,"app-icon",6),s.Nb(),s.Ob(4,"div",7),s.tc(5," No submits for comparison "),s.Nb(),s.Ob(6,"div",8),s.tc(7," Use \u201cadd to comparison\u201d icon in the submits table to add one "),s.Nb(),s.Nb(),s.Nb())}function R(t,e){1&t&&(s.Ob(0,"div",13),s.Ob(1,"div",14),s.Kb(2,"app-icon",15),s.Nb(),s.Ob(3,"div",16),s.tc(4," Add one more submit to see comparison results "),s.Nb(),s.Nb())}function H(t,e){if(1&t&&(s.Ob(0,"div",9),s.Kb(1,"app-comparison-table",10),s.rc(2,R,5,0,"div",11),s.Kb(3,"app-features-info",12),s.Nb()),2&t){const t=s.Yb();s.yb(1),s.ec("rows",t.rows)("cols",t.cols)("baselineID",t.baselineID),s.yb(1),s.ec("ngIf",t.addMore)}}let V=(()=>{class t{constructor(t,e,n,o,i){this.authorsService=t,this.projectService=e,this.taskService=n,this.comparisonService=o,this.activateRoute=i,this.rows=null,this.cols=null,this.comparisonIDs=null,this.routeTaskID=null,this.comparisonBaselineSubmitID=null,this.baselineID=null,this.empty=!1,this.addMore=!1,this.subscribeRouteUpdates(),this.subscribeTaskComparedSubmitsUpdates(),this.subscribeTaskConfigUpdates(),this.subscribeTaskComparedSubmitsIDsUpdates()}subscribeRouteUpdates(){this.activateRoute.params.subscribe(t=>{console.log("params",t),this.routeTaskID=t.taskID,this.comparisonIDs&&this.getComparedSubmits()})}subscribeTaskComparedSubmitsUpdates(){this.comparisonService.currentComparisonSubmitsStageMessage.subscribe(({loaded:t,data:e,meta:n})=>{t&&e&&e.submits&&(this.cols=e.submits,this.baselineID=n.baseline_submit)})}ngOnDestroy(){this.comparisonService.removeComparedSubmits()}subscribeTaskComparedSubmitsIDsUpdates(){this.comparisonService.currentComparisonIDSStageMessage.subscribe(t=>{this.comparisonIDs=t,console.log(this.routeTaskID,t),this.routeTaskID&&this.getComparedSubmits()})}subscribeTaskConfigUpdates(){this.taskService.currentTaskConfigStageMessage.subscribe(t=>{const{loaded:e,loading:n,data:o}=t;e||n||this.taskService.getTaskConfig(),e&&!n&&o&&(this.rows=t.data.columns)})}getComparedSubmits(){if(!this.comparisonIDs||!this.routeTaskID)return;const t=this.comparisonIDs[this.routeTaskID];if(!t||!t.length)return void(this.empty=!0);this.empty=!1,this.addMore=t&&1===t.length,console.log("\u0437\u0430\u0448\u043b\u043e \u0441\u044e\u0434\u0430");const e={};this.comparisonBaselineSubmitID&&(e.baseline_submit=this.comparisonBaselineSubmitID),this.comparisonService.getComparisonSubmits(Object.assign({ids:t,taskID:this.routeTaskID},e))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(d.a),s.Jb(u.a),s.Jb(g.a),s.Jb(h.a),s.Jb(a.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-compared-submits"]],decls:3,vars:2,consts:[[1,"compared-submits"],["class","compared-submits-empty",4,"ngIf"],["class","compared-submits-content",4,"ngIf"],[1,"compared-submits-empty"],[1,"compared-submits-empty-content"],[1,"compared-submits-empty-content-ico"],["type","comparison-no-data"],[1,"compared-submits-empty-content-heading"],[1,"compared-submits-empty-content-summary"],[1,"compared-submits-content"],[3,"rows","cols","baselineID"],["class","compared-submits-add-more",4,"ngIf"],[1,"submits-features"],[1,"compared-submits-add-more"],[1,"compared-submits-add-more-ico"],["type","comparison-add-more"],[1,"compared-submits-add-more-text"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.rc(1,Q,8,0,"div",1),s.rc(2,H,4,4,"div",2),s.Nb()),2&t&&(s.yb(1),s.ec("ngIf",e.empty),s.yb(1),s.ec("ngIf",!e.empty&&e.cols&&e.rows))},directives:[o.k,f.a,J,G.a],styles:[".compared-submits-empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:calc(100vh - 160px)}.compared-submits-empty-content-ico[_ngcontent-%COMP%]{width:175px;height:81px;margin:0 auto 83px;font-size:0;color:var(--foreground-quaternary)}.compared-submits-empty-content-heading[_ngcontent-%COMP%]{margin:0 0 16px;font-size:4.5rem;color:var(--text-color-tertiary);line-height:.8888888889;text-align:center}.compared-submits-empty-content-summary[_ngcontent-%COMP%]{color:var(--text-color-tertiary);font-size:2.9rem;line-height:1.1724137931;text-align:center}.compared-submits-content[_ngcontent-%COMP%]{display:flex}.compared-submits-add-more[_ngcontent-%COMP%]{width:272px;padding-top:83px;margin-left:71px}.compared-submits-add-more-ico[_ngcontent-%COMP%]{width:46px;height:21px;margin-bottom:29px;font-size:0;color:var(--text-color-quaternary)}.compared-submits-add-more-text[_ngcontent-%COMP%]{color:var(--text-color-quaternary);font-size:2.1rem;line-height:1.2857142857}"]}),t})();const X=[{path:"",component:(()=>{class t{constructor(){this.title="Favorites"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-favorites-page"]],decls:8,vars:0,template:function(t,e){1&t&&(s.Ob(0,"app-main-layout"),s.Ob(1,"app-header"),s.Ob(2,"header-body"),s.Kb(3,"app-task-selection"),s.Kb(4,"app-task-main-tabs"),s.Nb(),s.Nb(),s.Kb(5,"app-filters-panel"),s.Ob(6,"app-main"),s.Kb(7,"app-compared-submits"),s.Nb(),s.Nb())},directives:[c.a,r.a,b.a,l.a,p.a,m.a,V],styles:[""]}),t})()}];let Z=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({imports:[[a.e.forChild(X)],a.e]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({imports:[[Z,o.b,i.a]]}),t})()}}]);